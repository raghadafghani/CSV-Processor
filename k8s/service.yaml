apiVersion: v1
kind: Service
metadata:
  name: csv-processor-service
  namespace: k8s-raghadafghani
  labels:
    app.kubernetes.io/name: csv-processor
    app.kubernetes.io/instance: production
spec:
  # ✅ Service type: LoadBalancer (for external access)
  type: LoadBalancer
  
  # ✅ Session affinity: None (stateless app)
  sessionAffinity: None
  
  # ✅ Port mapping (container port → service port)
  ports:
  - name: http
    port: 80          # External port (what clients connect to)
    targetPort: http  # Container port (references port 8000 in deployment)
    protocol: TCP
  
  # ✅ Selector matches deployment labels
  selector:
    app.kubernetes.io/name: csv-processor
    app.kubernetes.io/instance: production
